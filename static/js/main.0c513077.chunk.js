(this["webpackJsonphng-i7-leaderboard"]=this["webpackJsonphng-i7-leaderboard"]||[]).push([[0],{378:function(e,t,n){e.exports=n(489)},395:function(e,t){},397:function(e,t){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(15),r=n.n(i),l=n(122),c=n(56),u=n(353),s=n(354),d=n(371),m=n(370),f=n(369),h=n(364),p=n.n(h),b=n(195),g=n.n(b),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={files:[]},a}return Object(s.a)(n,[{key:"handleChange",value:function(e){this.setState({files:e});var t=e[0],n=new FileReader;n.onload=function(){p.a.parse(n.result,(function(e,t){for(var n=[],a=1;a<t.length;a++){var o=t[a][0],i=t[a][1],r=t[a][2],l=t[a][3],u={name:o,username:i,email:r,points:Number(l)};n.push(u)}console.log(n),g.a.put("https://hngi7-leaderboard.firebaseio.com/users.json",Object(c.a)({},n))}))},n.readAsBinaryString(t)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Upload the CSV file below"),o.a.createElement(f.a,{acceptedFiles:[".csv"],onDrop:this.handleChange.bind(this)}))}}]),n}(a.Component),E=n(209),O=n(365),j=n.n(O),w=function(e){var t=o.a.useState({data:[]}),n=Object(l.a)(t,2),a=n[0],i=n[1];o.a.useEffect((function(){var e,t=[];g.a.get('https://hngi7-leaderboard.firebaseio.com/users.json?orderBy="points"').then((function(n){console.log(n.data),(t=n.data).sort((function(e,t){return t.points-e.points})),e=t.map((function(e,t){return 0===t?Object(c.a)(Object(c.a)({},e),{},{position:t+1,style:{color:"blue"}}):Object(c.a)(Object(c.a)({},e),{},{position:t+1})})),i({data:e})}))}),[]);var r={onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),i((function(t){var n=Object(E.a)(t.data);return n.push(e),Object(c.a)(Object(c.a)({},t),{},{data:n})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(n){setTimeout((function(){n(),t&&i((function(n){var a=Object(E.a)(n.data);return a[a.indexOf(t)]=e,Object(c.a)(Object(c.a)({},n),{},{data:a})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),i((function(t){var n=Object(E.a)(t.data);return n.splice(n.indexOf(e),1),Object(c.a)(Object(c.a)({},t),{},{data:n})}))}),600)}))}};return o.a.createElement(j.a,{style:{padding:"10px"},title:"The Board",columns:[{title:"Position",field:"position",headerStyle:{textAlign:"center"},cellStyle:{maxWidth:"3%",width:"3%",textAlign:"center"}},{title:"Name",field:"name",cellStyle:{width:"30%"}},{title:"Username",field:"username"},{title:"Email",field:"email"},{title:"Points",field:"points",cellStyle:{maxWidth:"3%",width:"3%"}}],data:a.data,options:{rowStyle:{padding:"1rem",borderRadius:"5px",boxShadow:" 0 2.8px 2.2px rgba(0, 0, 0, 0.034)"},pageSizeOptions:[10,20,30],pageSize:10,sorting:!1},editable:e.isAuth?r:null})},x=(n(486),o.a.createContext({isAuth:!1,login:function(){}})),y=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1];return o.a.createElement(x.Provider,{value:{isAuth:i,login:function(){r(!0)}}},e.children)},C=n(522),S=n(328),A=n(87),k=n(307),B=n(334),N=function(e){var t=Object(B.a)((function(e){return{base:{flexGrow:1},title:{flexGrow:1}}}))();return o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:"5px"},className:t.base},o.a.createElement(C.a,{position:"static"},o.a.createElement(S.a,null,o.a.createElement(A.a,{variant:"h6",className:t.title},"HNGi7 LeaderBoard"),o.a.createElement(k.a,{onClick:e.clicked,color:"inherit"},"Admin")))),o.a.createElement("main",null,e.children))},P=n(513),R=function(e){return o.a.createElement(P.a,{onClose:e.modalClose,"aria-labelledby":"simple-dialog-title",open:e.open},e.children)},T=(n(487),function(e){var t=Object(a.useContext)(x);return o.a.createElement("div",{className:"auth"},o.a.createElement("h2",null,"You are not authenticated!"),o.a.createElement("p",null,"Please log in to continue."),o.a.createElement(k.a,{onClick:function(){t.login(),e.modalClose()},variant:"contained",color:"primary"},"Log In"))}),W=function(e){var t=o.a.useContext(x),n=o.a.useState(!1),a=Object(l.a)(n,2),i=a[0],r=a[1],c=function(){r(!1)};return o.a.createElement(N,{clicked:function(){r(!0)}},o.a.createElement(R,{open:i,modalClose:c},o.a.createElement(T,{modalClose:c})),o.a.createElement("div",{className:"App"},t.isAuth?o.a.createElement(v,null):null,o.a.createElement(w,{isAuth:t.isAuth})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(488);r.a.render(o.a.createElement(y,null,o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[378,1,2]]]);
//# sourceMappingURL=main.0c513077.chunk.js.map